puts$<.map{|l|s=[];l.split.map(&:to_i).permutation.to_a.uniq.product([:+,:-,:*,:/].repeated_permutation(3).to_a,['((%dr %s %dr) %s %dr) %s %dr','(%dr %s (%dr %s %dr)) %s %dr','(%dr %s %dr) %s (%dr %s %dr)','%dr %s ((%dr %s %dr) %s %dr)','%dr %s (%dr %s (%dr %s %dr))']){|(a,b,c,d),(z,y,x),e|t=e%[a,z,b,y,c,x,d];eval(t)==24&&s<<t.tr(?r,'')rescue p};s.size==0??-:s.sort}
